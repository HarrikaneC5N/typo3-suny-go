{namespace vh=In2code\Powermail\ViewHelpers}

<div class="form-group powermail_fieldwrap powermail_fieldwrap_type_file powermail_fieldwrap_{field.marker} {field.css} {settings.styles.framework.fieldAndLabelWrappingClasses}">
	<f:if condition="{field.css} != 'nolabel'">
    	<label for="powermail_field_{field.marker}" class="{settings.styles.framework.labelClasses}">
	        <vh:string.escapeLabels>{field.title}</vh:string.escapeLabels><f:if condition="{field.mandatory}"><span class="mandatory">*</span></f:if>
	        <f:if condition="{field.description}">
	        	<span class="description">{field.description}</span>
	        </f:if>
	    </label>
	</f:if>
	<div class="custom-file">
		<vh:Form.MultiUpload
				id="powermail_field_{field.marker}"
				property="{field.marker}"
				additionalAttributes="{vh:Validation.UploadAttributes(field:field)}"
				class="custom-file-input powermail_file {vh:Validation.ErrorClass(field:field, class: 'powermail_field_error')}" />

		<div class="custom-file-label">
			> Aucun fichier sélectionné
		</div>

		<f:if condition="{vh:Misc.PrefillField(field:field, mail:mail)}">
			<ul class="powermail_fieldwrap_file_list">
				<f:for each="{vh:Misc.PrefillField(field:field, mail:mail)}" as="file">
					<li>
						<p class="fileName">{file}</p>
						<f:form.hidden property="{field.marker}." value="{file}" />
					</li>
				</f:for>
				<li>
					<button class="deleteAllFiles"><f:translate key="deleteAllFiles">Delete All Files</f:translate></button>
				</li>
			</ul>
		</f:if>
	</div>
</div>
